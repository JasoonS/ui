// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE

import * as Belt_Option from "bs-platform/lib/es6/belt_Option.js";
import * as Erc712$WildCards from "./Erc712.bs.js";

function createPermitSig(provider, verifyingContract, nonce, chainId, holder, spender, from) {
  var domain_salt = "0x" + chainId.toString(16).padStart(16, "0");
  var domain = {
    name: "Dai Stablecoin",
    version: "1",
    verifyingContract: verifyingContract,
    salt: domain_salt
  };
  var message = {
    holder: holder,
    spender: spender,
    nonce: nonce,
    expiry: 0,
    allowed: true
  };
  var data = {
    types: {
      EIP712Domain: Erc712$WildCards.eip712Domain,
      Permit: Erc712$WildCards.permit
    },
    domain: domain,
    primaryType: "Permit",
    message: message
  };
  var dataString = Belt_Option.getWithDefault(JSON.stringify(data), "");
  var exampleRpcDefinition_params = [
    from,
    dataString
  ];
  var exampleRpcDefinition = {
    method: "eth_signTypedData_v3",
    params: exampleRpcDefinition_params,
    from: from
  };
  console.log("The query", exampleRpcDefinition);
  provider.sendAsync(exampleRpcDefinition, (function (_err, result) {
          console.log(result);
          
        }));
  
}

export {
  createPermitSig ,
  
}
/* No side effect */
