// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE

import * as Css from "bs-css-emotion/src/Css.js";
import * as Curry from "bs-platform/lib/es6/curry.js";
import * as React from "react";
import * as RimbleUi from "rimble-ui";
import * as Belt_Array from "bs-platform/lib/es6/belt_Array.js";
import * as Belt_Float from "bs-platform/lib/es6/belt_Float.js";
import * as Belt_Option from "bs-platform/lib/es6/belt_Option.js";
import * as Helper$WildCards from "../../harberger-lib/Helper.bs.js";
import * as Globals$WildCards from "../../harberger-lib/Globals.bs.js";
import * as QlHooks$WildCards from "../../harberger-lib/QlHooks.bs.js";
import * as RootProvider$WildCards from "../../harberger-lib/RootProvider.bs.js";
import * as UserProvider$WildCards from "../../harberger-lib/js/user-provider/UserProvider.bs.js";

var goldTrophyImg = "/img/icons/gold-trophy.png";

var silverTrophyImg = "/img/icons/silver-trophy.png";

var bronzeTrophyImg = "/img/icons/bronze-trophy.png";

var leaderboardTable = Curry._1(Css.style, /* :: */[
      Css.width(/* `percent */[
            -119887163,
            100
          ]),
      /* :: */[
        Css.tableLayout(/* fixed */10615156),
        /* :: */[
          Css.overflowWrap(/* breakWord */1059921449),
          /* [] */0
        ]
      ]
    ]);

var leaderboardHeader = Curry._1(Css.style, /* :: */[
      Css.backgroundColor(/* `hex */[
            5194459,
            "73c7d7ff"
          ]),
      /* [] */0
    ]);

var streakTextLeaderboard = Curry._1(Css.style, /* :: */[
      Css.position(Css.absolute),
      /* :: */[
        Css.zIndex(100),
        /* :: */[
          Css.bottom(/* `percent */[
                -119887163,
                -10
              ]),
          /* :: */[
            Css.right(/* `percent */[
                  -119887163,
                  50
                ]),
            /* :: */[
              Css.transform(Css.translateX(/* `px */[
                        25096,
                        -5
                      ])),
              /* [] */0
            ]
          ]
        ]
      ]
    ]);

var flameImgLeaderboard = Curry._1(Css.style, /* :: */[
      Css.width(/* `percent */[
            -119887163,
            100
          ]),
      /* :: */[
        Css.maxWidth(Css.px(50)),
        /* [] */0
      ]
    ]);

var rankText = Curry._1(Css.style, /* :: */[
      Css.position(Css.absolute),
      /* :: */[
        Css.zIndex(100),
        /* :: */[
          Css.bottom(/* `percent */[
                -119887163,
                -10
              ]),
          /* :: */[
            Css.right(/* `percent */[
                  -119887163,
                  50
                ]),
            /* :: */[
              Css.transform(Css.translate(/* `px */[
                        25096,
                        -4
                      ], /* `px */[
                        25096,
                        -15
                      ])),
              /* [] */0
            ]
          ]
        ]
      ]
    ]);

var trophyImg = Curry._1(Css.style, /* :: */[
      Css.width(/* `percent */[
            -119887163,
            100
          ]),
      /* :: */[
        Css.width(Css.px(50)),
        /* :: */[
          Css.height(Css.px(50)),
          /* [] */0
        ]
      ]
    ]);

var centerFlame = Curry._1(Css.style, /* :: */[
      Css.display(Css.block),
      /* :: */[
        Css.margin(Css.auto),
        /* :: */[
          Css.width(/* `px */[
                25096,
                70
              ]),
          /* :: */[
            Css.position(Css.relative),
            /* [] */0
          ]
        ]
      ]
    ]);

var rankMetric = Curry._1(Css.style, /* :: */[
      Css.fontSize(/* `px */[
            25096,
            16
          ]),
      /* [] */0
    ]);

function rankingColor(index) {
  return Curry._1(Css.style, /* :: */[
              Css.backgroundColor(/* `hex */[
                    5194459,
                    index % 2 === 1 ? "b5b5bd22" : "ffffffff"
                  ]),
              /* [] */0
            ]);
}

function MonthlyContribution$ContributorName(Props) {
  var contributor = Props.contributor;
  Curry._2(UserProvider$WildCards.useUserInfoContext(undefined).update, contributor, false);
  var optThreeBoxData = UserProvider$WildCards.use3BoxUserData(contributor);
  var optUserName = Belt_Option.flatMap(Belt_Option.flatMap(optThreeBoxData, (function (threeBoxData) {
              return threeBoxData.profile;
            })), (function (threeBoxData) {
          return threeBoxData.name;
        }));
  var clearAndPush = RootProvider$WildCards.useClearNonUrlStateAndPushRoute(undefined);
  return React.createElement("span", undefined, React.createElement("a", {
                  onClick: (function (e) {
                      e.preventDefault();
                      return Curry._1(clearAndPush, "/#user/" + (String(contributor) + ""));
                    })
                }, optUserName !== undefined ? React.createElement("span", undefined, optUserName) : React.createElement("span", undefined, Helper$WildCards.elipsify(contributor, 20))));
}

var ContributorName = {
  make: MonthlyContribution$ContributorName
};

function MonthlyContribution(Props) {
  var numberOfLeaders = Props.numberOfLeaders;
  var topContributorsOpt = QlHooks$WildCards.useLoadTopContributorsData(numberOfLeaders);
  return React.createElement("div", undefined, React.createElement(RimbleUi.Heading, {
                  children: "Wildcards Monthly Contribution Leaderboard"
                }), React.createElement("br", undefined), React.createElement(RimbleUi.Table, {
                  children: null,
                  className: leaderboardTable
                }, React.createElement("thead", {
                      className: leaderboardHeader
                    }, React.createElement("tr", undefined, React.createElement("th", undefined, "Rank"), React.createElement("th", undefined, "Guardian"), React.createElement("th", undefined, "Monthly Contribution"))), React.createElement("tbody", undefined, topContributorsOpt !== undefined ? Belt_Array.mapWithIndex(topContributorsOpt, (function (index, param) {
                              var amount = param[1];
                              var contributor = param[0];
                              var amountRaisedFloat = Globals$WildCards.$pipe$pipe$pipe$pipe(Belt_Float.fromString(amount), 0);
                              if (amountRaisedFloat < 0.0000001) {
                                return null;
                              } else {
                                return React.createElement("tr", {
                                            key: contributor,
                                            className: rankingColor(index)
                                          }, React.createElement("td", undefined, React.createElement("span", {
                                                    className: centerFlame
                                                  }, index === 0 ? React.createElement("img", {
                                                          className: trophyImg,
                                                          src: goldTrophyImg
                                                        }) : (
                                                      index === 1 ? React.createElement("img", {
                                                              className: trophyImg,
                                                              src: silverTrophyImg
                                                            }) : (
                                                          index === 2 ? React.createElement("img", {
                                                                  className: trophyImg,
                                                                  src: bronzeTrophyImg
                                                                }) : React.createElement("div", {
                                                                  className: trophyImg
                                                                })
                                                        )
                                                    ), React.createElement("p", {
                                                        className: rankText
                                                      }, React.createElement("strong", undefined, "#", String(index + 1 | 0))))), React.createElement("td", undefined, React.createElement(MonthlyContribution$ContributorName, {
                                                    contributor: contributor
                                                  })), React.createElement("td", {
                                                className: rankMetric
                                              }, amount + " ETH"));
                              }
                            })) : null)));
}

var flameImg = "/img/streak-flame.png";

var make = MonthlyContribution;

export {
  flameImg ,
  goldTrophyImg ,
  silverTrophyImg ,
  bronzeTrophyImg ,
  leaderboardTable ,
  leaderboardHeader ,
  streakTextLeaderboard ,
  flameImgLeaderboard ,
  rankText ,
  trophyImg ,
  centerFlame ,
  rankMetric ,
  rankingColor ,
  ContributorName ,
  make ,
  
}
/* leaderboardTable Not a pure module */
